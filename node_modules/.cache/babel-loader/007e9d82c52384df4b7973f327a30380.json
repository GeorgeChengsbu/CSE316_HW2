{"ast":null,"code":"export default class DBManager {\n  constructor() {\n    this.queryGetSessionData = () => {\n      let sessionDataString = localStorage.getItem(\"top5-data\");\n      return JSON.parse(sessionDataString);\n    };\n\n    this.queryIsList = key => {\n      let list = localStorage.getItem(\"top5-list-\" + key);\n      return list != null;\n    };\n\n    this.mutationDeleteItem = key => {\n      console.log(sessionData);\n      localStorage.removeItem(\"top5-list-\" + key);\n      console.log(localStorage);\n    };\n\n    this.queryGetList = key => {\n      let listString = localStorage.getItem(\"top5-list-\" + key);\n      return JSON.parse(listString);\n    };\n\n    this.mutationCreateList = list => {\n      this.mutationUpdateList(list);\n    };\n\n    this.mutationUpdateList = list => {\n      // AND FLOW THOSE CHANGES TO LOCAL STORAGE\n      let listString = JSON.stringify(list);\n      localStorage.setItem(\"top5-list-\" + list.key, listString);\n    };\n\n    this.mutationUpdateSessionData = sessionData => {\n      let sessionDataString = JSON.stringify(sessionData);\n      localStorage.setItem(\"top5-data\", sessionDataString);\n    };\n  }\n\n}","map":{"version":3,"sources":["/Users/george/Downloads/top5-lister-hw2/src/db/DBManager.js"],"names":["DBManager","queryGetSessionData","sessionDataString","localStorage","getItem","JSON","parse","queryIsList","key","list","mutationDeleteItem","console","log","sessionData","removeItem","queryGetList","listString","mutationCreateList","mutationUpdateList","stringify","setItem","mutationUpdateSessionData"],"mappings":"AAAA,eAAe,MAAMA,SAAN,CAAgB;AAAA;AAAA,SAI3BC,mBAJ2B,GAIL,MAAM;AACxB,UAAIC,iBAAiB,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAxB;AACA,aAAOC,IAAI,CAACC,KAAL,CAAWJ,iBAAX,CAAP;AACH,KAP0B;;AAAA,SAS3BK,WAT2B,GASZC,GAAD,IAAS;AACnB,UAAIC,IAAI,GAAGN,YAAY,CAACC,OAAb,CAAqB,eAAeI,GAApC,CAAX;AACA,aAAOC,IAAI,IAAI,IAAf;AACH,KAZ0B;;AAAA,SAa3BC,kBAb2B,GAaLF,GAAD,IAAS;AAC1BG,MAAAA,OAAO,CAACC,GAAR,CAAYC,WAAZ;AACAV,MAAAA,YAAY,CAACW,UAAb,CAAwB,eAAaN,GAArC;AACAG,MAAAA,OAAO,CAACC,GAAR,CAAYT,YAAZ;AACH,KAjB0B;;AAAA,SAuB3BY,YAvB2B,GAuBXP,GAAD,IAAS;AACpB,UAAIQ,UAAU,GAAGb,YAAY,CAACC,OAAb,CAAqB,eAAeI,GAApC,CAAjB;AACA,aAAOH,IAAI,CAACC,KAAL,CAAWU,UAAX,CAAP;AACH,KA1B0B;;AAAA,SA4B3BC,kBA5B2B,GA4BLR,IAAD,IAAU;AAC3B,WAAKS,kBAAL,CAAwBT,IAAxB;AACH,KA9B0B;;AAAA,SAgC3BS,kBAhC2B,GAgCLT,IAAD,IAAU;AAC3B;AACA,UAAIO,UAAU,GAAGX,IAAI,CAACc,SAAL,CAAeV,IAAf,CAAjB;AACAN,MAAAA,YAAY,CAACiB,OAAb,CAAqB,eAAeX,IAAI,CAACD,GAAzC,EAA8CQ,UAA9C;AACH,KApC0B;;AAAA,SAsC3BK,yBAtC2B,GAsCER,WAAD,IAAiB;AACzC,UAAIX,iBAAiB,GAAGG,IAAI,CAACc,SAAL,CAAeN,WAAf,CAAxB;AACAV,MAAAA,YAAY,CAACiB,OAAb,CAAqB,WAArB,EAAkClB,iBAAlC;AACH,KAzC0B;AAAA;;AAAA","sourcesContent":["export default class DBManager {\n    // QUERY AND MUTATION FUNCTIONS GET/SET DATA FROM/TO\n    // AN EXTERNAL SOURCE, WHICH FOR THIS APPLICATION\n    // MEANS THE BROWSER'S LOCAL STORAGE\n    queryGetSessionData = () => {\n        let sessionDataString = localStorage.getItem(\"top5-data\");\n        return JSON.parse(sessionDataString);\n    }\n\n    queryIsList = (key) => {\n        let list = localStorage.getItem(\"top5-list-\" + key);\n        return list != null;\n    }\n    mutationDeleteItem = (key) => {\n        console.log(sessionData);\n        localStorage.removeItem(\"top5-list-\"+key);\n        console.log(localStorage);\n    }\n\n    /**\n     * This query asks local storage for a list with a particular key,\n     * which is then returned by this function.\n     */\n    queryGetList = (key) => {\n        let listString = localStorage.getItem(\"top5-list-\" + key);\n        return JSON.parse(listString);\n    }\n\n    mutationCreateList = (list) => {\n        this.mutationUpdateList(list);\n    }\n\n    mutationUpdateList = (list) => {\n        // AND FLOW THOSE CHANGES TO LOCAL STORAGE\n        let listString = JSON.stringify(list);\n        localStorage.setItem(\"top5-list-\" + list.key, listString);\n    }\n    \n    mutationUpdateSessionData = (sessionData) => {\n        let sessionDataString = JSON.stringify(sessionData);\n        localStorage.setItem(\"top5-data\", sessionDataString);\n    }\n}"]},"metadata":{},"sourceType":"module"}