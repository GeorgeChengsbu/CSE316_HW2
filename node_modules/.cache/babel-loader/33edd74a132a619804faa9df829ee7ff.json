{"ast":null,"code":"export default class DBManager {\n  constructor() {\n    this.queryGetSessionData = () => {\n      let sessionDataString = localStorage.getItem(\"top5-data\");\n      return JSON.parse(sessionDataString);\n    };\n\n    this.queryIsList = key => {\n      let list = localStorage.getItem(\"top5-list-\" + key);\n      return list != null;\n    };\n\n    this.mutationDeleteItem = key => {\n      localStorage.removeItem(\"top5-list-\" + key);\n    };\n\n    this.queryGetList = key => {\n      let listString = localStorage.getItem(\"top5-list-\" + key);\n      return JSON.parse(listString);\n    };\n\n    this.mutationCreateList = list => {\n      this.mutationUpdateList(list);\n    };\n\n    this.mutationUpdateList = list => {\n      // AND FLOW THOSE CHANGES TO LOCAL STORAGE\n      let listString = JSON.stringify(list);\n      localStorage.setItem(\"top5-list-\" + list.key, listString);\n    };\n\n    this.mutationUpdateSessionData = sessionData => {\n      let sessionDataString = JSON.stringify(sessionData);\n      localStorage.setItem(\"top5-data\", sessionDataString);\n    };\n  }\n\n}","map":{"version":3,"sources":["/Users/george/Downloads/top5-lister-hw2/src/db/DBManager.js"],"names":["DBManager","queryGetSessionData","sessionDataString","localStorage","getItem","JSON","parse","queryIsList","key","list","mutationDeleteItem","removeItem","queryGetList","listString","mutationCreateList","mutationUpdateList","stringify","setItem","mutationUpdateSessionData","sessionData"],"mappings":"AAAA,eAAe,MAAMA,SAAN,CAAgB;AAAA;AAAA,SAI3BC,mBAJ2B,GAIL,MAAM;AACxB,UAAIC,iBAAiB,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAxB;AACA,aAAOC,IAAI,CAACC,KAAL,CAAWJ,iBAAX,CAAP;AACH,KAP0B;;AAAA,SAS3BK,WAT2B,GASZC,GAAD,IAAS;AACnB,UAAIC,IAAI,GAAGN,YAAY,CAACC,OAAb,CAAqB,eAAeI,GAApC,CAAX;AACA,aAAOC,IAAI,IAAI,IAAf;AACH,KAZ0B;;AAAA,SAa3BC,kBAb2B,GAaLF,GAAD,IAAS;AAC1BL,MAAAA,YAAY,CAACQ,UAAb,CAAwB,eAAaH,GAArC;AACH,KAf0B;;AAAA,SAqB3BI,YArB2B,GAqBXJ,GAAD,IAAS;AACpB,UAAIK,UAAU,GAAGV,YAAY,CAACC,OAAb,CAAqB,eAAeI,GAApC,CAAjB;AACA,aAAOH,IAAI,CAACC,KAAL,CAAWO,UAAX,CAAP;AACH,KAxB0B;;AAAA,SA0B3BC,kBA1B2B,GA0BLL,IAAD,IAAU;AAC3B,WAAKM,kBAAL,CAAwBN,IAAxB;AACH,KA5B0B;;AAAA,SA8B3BM,kBA9B2B,GA8BLN,IAAD,IAAU;AAC3B;AACA,UAAII,UAAU,GAAGR,IAAI,CAACW,SAAL,CAAeP,IAAf,CAAjB;AACAN,MAAAA,YAAY,CAACc,OAAb,CAAqB,eAAeR,IAAI,CAACD,GAAzC,EAA8CK,UAA9C;AACH,KAlC0B;;AAAA,SAoC3BK,yBApC2B,GAoCEC,WAAD,IAAiB;AACzC,UAAIjB,iBAAiB,GAAGG,IAAI,CAACW,SAAL,CAAeG,WAAf,CAAxB;AACAhB,MAAAA,YAAY,CAACc,OAAb,CAAqB,WAArB,EAAkCf,iBAAlC;AACH,KAvC0B;AAAA;;AAAA","sourcesContent":["export default class DBManager {\n    // QUERY AND MUTATION FUNCTIONS GET/SET DATA FROM/TO\n    // AN EXTERNAL SOURCE, WHICH FOR THIS APPLICATION\n    // MEANS THE BROWSER'S LOCAL STORAGE\n    queryGetSessionData = () => {\n        let sessionDataString = localStorage.getItem(\"top5-data\");\n        return JSON.parse(sessionDataString);\n    }\n\n    queryIsList = (key) => {\n        let list = localStorage.getItem(\"top5-list-\" + key);\n        return list != null;\n    }\n    mutationDeleteItem = (key) => {\n        localStorage.removeItem(\"top5-list-\"+key);\n    }\n\n    /**\n     * This query asks local storage for a list with a particular key,\n     * which is then returned by this function.\n     */\n    queryGetList = (key) => {\n        let listString = localStorage.getItem(\"top5-list-\" + key);\n        return JSON.parse(listString);\n    }\n\n    mutationCreateList = (list) => {\n        this.mutationUpdateList(list);\n    }\n\n    mutationUpdateList = (list) => {\n        // AND FLOW THOSE CHANGES TO LOCAL STORAGE\n        let listString = JSON.stringify(list);\n        localStorage.setItem(\"top5-list-\" + list.key, listString);\n    }\n    \n    mutationUpdateSessionData = (sessionData) => {\n        let sessionDataString = JSON.stringify(sessionData);\n        localStorage.setItem(\"top5-data\", sessionDataString);\n    }\n}"]},"metadata":{},"sourceType":"module"}